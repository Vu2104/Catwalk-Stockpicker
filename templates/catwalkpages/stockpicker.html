<!DOCTYPE html>
<html>
    <head>
        <title>Stock Pick</title>
        <style>
            h1{
                text-align: center;
            }

            #stockGrid{
                border: solid 1px;
                border-radius: 10px;
                display: grid;
                grid-template-columns: auto auto auto auto auto auto auto auto auto auto;
                grid-template-rows: auto auto auto auto auto auto auto auto auto auto;
                justify-items: center;
                gap: 10px;
                padding: 25px;
                background-color: rgb(218, 237, 237);
            }

            .unPickedStock{
                background-color: rgb(250, 209, 209);
                height: 100px;
                width: 100px;
                cursor: pointer;
            }

            .unPickedStock:hover{
                background-color: rgb(107, 224, 129);
                transition: 0.5s
            }

            .pickedStock{
                background-color: rgb(107, 224, 129);
                height: 100px;
                width: 100px;
            }

            a{
                all: unset;
            }

            table{
                border: 1px solid black;
                border-radius: 5px;
            }

            td, th{
                padding: 5px;
            }

            

        </style>

    </head>

    <body>
        <h1>Welcome to the Catwalk Stockpicker! Let's make your investment pay off!ðŸ’²ðŸ’²ðŸ’²</h1>

        {% if pickedStocksLength < 8 %}
            <h2>These are the 100 stocks to pick from: </h2>
            <h2>Please choose 8 stocks.</h2>
        {% else %}
            <h2>Summary - Here are the results of the stocks you picked!</h2>
            <table>
                <tr>
                    <th> </th>
                    <th>Stock Ticker</th>
                    <th>Up/Down</th>
                    <th>Open</th>
                    <th>Close</th>
                    <th>$ Change</th>
                    <th>% Change</th>
                </tr>

                {% for key, value in summary.items %}
                    {% if key in pickedStocks %}
                        <tr>
                            <td> </td>
                            <td>{{key}}</td>
                            <td>{{value.swing}}</td>
                            <td>{{value.open}}</td>
                            <td>{{value.close}}</td>
                            <td>{{value.change}}</td>
                            <td>{{value.percentChange}}%</td>
                        </tr>
                    {% endif %}
                {% endfor %}

                <tr>
                    <th>Total</th>
                    <td> </td>
                    <td> </td>
                    <td> </td>
                    <td> </td>
                    <td>{{changeTotal}}</td>
                    <td>{{percentChangeTotal}}%</td>
                </tr>
            </table>
        {% endif %}

        <a href="{% url 'reset' %}"><button>reset</button></a>

        <div id="stockGrid">
            {% for sStock in stocksToPick %} <!--I used DTL tags here to render the stock tickers in HTML from views.py-->
                {% if sStock in pickedStocks %}
                    <a href="{% url 'pickstock' %}?t={{sStock}}"><button disabled class="pickedStock">{{sStock}}</button></a>
                {% else %}
                    <a href="{% url 'pickstock' %}?t={{sStock}}"><button class="unPickedStock" type="button" onclick="">{{sStock}}</button></a>
                {% endif %}
            {% endfor %}
        </div>
    </body>


</html>